(()=>{var n={910:(n,e,t)=>{"use strict";t.d(e,{Z:()=>a});var r=t(645),o=t.n(r)()((function(n){return n[1]}));o.push([n.id,"* {\r\n\tmargin:0;\r\n\tpadding:0;\r\n\tbox-sizing: border-box;\r\n}\r\nbody {\r\n\tfont-size:16px;\r\n\tfont-family: 'Lexend', sans-serif;\r\n\tbackground-color: #15131c;\r\n\tuser-select: none;\r\n}\r\n\r\n.title {\r\n\tcolor: white;\r\n\tfont-size: 1.7rem;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\theight: 60px;\r\n\twidth: 100vw;\r\n\tbackground-color: rgba(5, 4, 8, 0.4);\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n}\r\n\r\n.center {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tposition: absolute;\r\n\tleft :0;\r\n\ttop: 0;\r\n\twidth: 100%;\r\n\theight: 100%;\r\n}\r\n\r\n\r\n\r\n.menu .main {\r\n\tbackground-color: rgba(0, 0, 0, 0);\r\n\tposition: absolute;\r\n\tleft: 50px;\r\n\ttop: 50px;\r\n\twidth: calc(100vw - 100px);\r\n\theight: calc(100vh - 100px);\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tflex-direction: column;\r\n\tpadding: 20px;\r\n\ttransition: opacity 0.3s linear;\r\n}\r\n\r\n.create, .create-room {\r\n\tposition: relative;\r\n\tleft: 0;\r\n\tmargin: 10px;\r\n\tpadding: 20px;\r\n\tfont-size: 1.3rem;\r\n\tpadding-right: 80px;\r\n\tpadding-left: 80px;\r\n\tbackground-color: rgba(5, 4, 8, 0.4);\r\n\tcolor: white;\r\n\ttransition: background-color 0.1s linear;\r\n}\r\n\r\n\r\n.create:hover, .create-room:hover {\r\n\tbackground-color: rgba(5, 4, 8, 0.8);\r\n}\r\n\r\n.rooms {\r\n\tdisplay: flex;\r\n\tjustify-content: baseline;\r\n\talign-items: center;\r\n\tflex-direction: column;\r\n\tleft: 10%;\r\n\ttop: 10%;\r\n\twidth: 80%;\r\n\theight: 80%;\r\n\tbackground-color: rgba(12, 9, 20, 0.4);\r\n}\r\n\r\n.overflow {\r\n\toverflow-y: auto;\r\n\toverflow-x: hidden;\r\n\toverflow-wrap: break-word;\r\n}\r\n\r\n.overflow::-webkit-scrollbar {\r\n  width: 1em;\r\n}\r\n\r\n.overflow::-webkit-scrollbar-thumb {\r\n  background-color:  rgba(0, 0, 0, 0.3);\r\n  outline: 1px solid  rgba(0, 0, 0, 0.3);\r\n}\r\n\r\n\r\n.overlay {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\tz-index: 500;\r\n\tbackground-color: rgba(0, 0, 0, 0.95);\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tflex-direction: column;\r\n\tuser-select: none;\r\n}\r\n\r\n.back-button {\r\n\tmargin: 20px;\r\n\tcolor: white;\r\n\tfont-size: 1rem;\r\n\tfont-weight: bold;\r\n\tbackground-color: #d40000;\r\n\tborder-radius: 6px;\r\n\ttransition: background-color 0.05s linear;\r\n}\r\n\r\n.leave {\r\n\tposition: absolute;\r\n\tright: 0;\r\n\tbottom: 45px;\r\n\tmargin: 10px;\r\n\twidth: 180px;\r\n\tfont-size: 1.5rem;\r\n\tfont-weight: normal;\r\n\tpadding: 0;\r\n\theight: calc(40vh / 4);\r\n}\r\n\r\n.player-count {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tcolor: white;\r\n\tfont-size: 2rem;\r\n\theight:;\r\n\twidth: 180px;\r\n\tmargin: 10px;\r\n\theight: calc(40vh / 4);\r\n\tposition: absolute;\r\n\tright: 0;\r\n\tbottom: calc(40vh / 4 + 45px);\r\n}\r\n\r\n.back-button:hover {\r\n\tbackground-color: #4a0101;\r\n}\r\n\r\n\r\n.enter-button {\r\n\tmargin: 20px;\r\n\tcolor: white;\r\n\tfont-size: 1rem;\r\n\tfont-weight: bold;\r\n\tbackground-color: #3dba3d;\r\n\tborder-radius: 6px;\r\n\ttransition: background-color 0.05s linear;\r\n}\r\n\r\n.enter-button:hover {\r\n\tbackground-color: #2fc42f;\r\n}\r\n\r\n.room {\r\n\tposition: relative;\r\n\twidth: 100%;\r\n\tbackground-color: rgba(0, 0, 0, 0);\r\n\ttransition: background-color 0.05s linear;\r\n\tpadding-top: 20px;\r\n\tpadding-bottom: 40px;\r\n\tpadding-right: 60px;\r\n\tpadding-left: 60px;\r\n\tcursor: pointer;\r\n\tfont-size: 1rem;\r\n}\r\n\r\n.room-description {\r\n\tposition: absolute;\r\n\tleft: 100px;\r\n\ttop: 55px;\r\n\tfont-size: 1rem;\r\n}\r\n\r\n.room-player-count {\r\n\tposition: absolute;\r\n\tright: 30px;\r\n\tfont-size: 1.6rem;\r\n\ttop: 30px;\r\n}\r\n\r\n.room-name {\r\n\tfont-weight: bold;\r\n\tfont-size: 1.5rem;\r\n}\r\n\r\n.main h1 {\r\n\tmargin-top: 40px;\r\n}\r\n\r\n.room:hover {\r\n\tbackground-color: rgba(11, 10, 20, 0.9);\r\n}\r\n\r\n.rooms .loader {\r\n\tborder: 15px solid rgba(12, 9, 20, 0.4);\r\n\tborder-bottom: 15px solid white;\r\n\tborder-right: 15px solid white;\r\n}\r\n\r\nbutton {\r\n\tposition: relative;\r\n\tpadding: 20px;\r\n\tpadding-left: 60px;\r\n\tpadding-right: 60px;\r\n\tborder: none;\r\n\toutline: none;\r\n\tcursor: pointer;\r\n}\r\n\r\n.menu {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items:center;\r\n\tflex-direction: column;\r\n\tcolor: white;\r\n\tbackground-color: #15131c;\r\n\tfilter: saturate(150%);\r\n\tmin-height: 100vh;\r\n\tmin-width: 100vw;\r\n\topacity: 1;\r\n\ttransition: opacity 0.3s linear;\r\n\tanimation: fade-in 0.3s linear;\r\n}\r\n\r\n\r\n.switch {\r\n  display: inline-block;\r\n  height: 34px;\r\n  position: relative;\r\n  width: 60px;\r\n}\r\n\r\n.switch input {\r\n  display:none;\r\n}\r\n\r\n.create-menu .sec {\r\n\tdisplay: flex;\r\n\tpadding: 5px;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tmargin: 1px;\r\n}\r\n\r\ninput {\r\n\tborder: none;\r\n\toutline: none;\r\n\tborder-radius: 2px;\r\n\tpadding: 5px;\r\n\tcolor: black;\r\n\tfont-weight: 550;\r\n\tposition: relative;\r\n\tfont-size: 1.5rem;\r\n}\r\n\r\n.text {\r\n\tmargin: 20px;\r\n\tcolor: white;\r\n\tfont-size: 1.5rem;\r\n}\r\n\r\n.slider {\r\n  background-color: #ccc;\r\n  bottom: 0;\r\n  cursor: pointer;\r\n  left: 0;\r\n  position: absolute;\r\n  right: 0;\r\n  top: 0;\r\n  transition: .4s;\r\n}\r\n\r\n.slider:before {\r\n  background-color: #fff;\r\n  bottom: 4px;\r\n  content: \"\";\r\n  height: 26px;\r\n  left: 4px;\r\n  position: absolute;\r\n  transition: .4s;\r\n  width: 26px;\r\n}\r\n\r\ninput:checked + .slider {\r\n  background-color: red;\r\n}\r\n\r\ninput:checked + .slider:before {\r\n  transform: translateX(26px);\r\n}\r\n\r\n.slider.round {\r\n  border-radius: 34px;\r\n}\r\n\r\n.slider.round:before {\r\n  border-radius: 50%;\r\n}\r\n\r\n\r\n@keyframes fade-in {\r\n\t0% {\r\n\t\topacity: 0;\r\n\t}\r\n\t100% {\r\n\t\topacity: 1;\r\n\t}\r\n}\r\n\r\n.chat {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\twidth: 100vw;\r\n\theight: 100vh;\r\n\tbackground-color: #383E53;\r\n\toverflow: hidden;\r\n\topacity: 1;\r\n\ttransition: opacity 0.3s linear;\r\n}\r\n\r\n.my-message {\r\n\tcolor: white !important;\r\n}\r\n\r\n.chat-message {\r\n\tfont-size: 1.2rem;\r\n\tmargin: 8px;\r\n\tcolor: white;\r\n}\r\n\r\n\r\n.chat-div {\r\n\tbackground-color: #312D4A;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 60vh;\r\n\theight: 40vh;\r\n\twidth: 100vw;\r\n\tz-index: 500;\r\n}\r\n\r\n.ready {\r\n\tposition: absolute;\r\n\tright: 0;\r\n\ttop: 0;\r\n\tbackground-color: #069157;\r\n\ttransition: background-color 0.15s linear;\r\n\tfont-size: 1.5rem;\r\n\tcolor: white;\r\n\tborder-radius: 2px;\r\n\tpadding: 0;\r\n\twidth: 180px;\r\n\tmargin: 10px;\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\theight: calc(40vh / 4);\r\n}\r\n\r\n.author::after {\r\n\tcontent: ': ';\r\n}\r\n\r\n.author {\r\n\tcolor: rgb(180, 180, 180);\r\n}\r\n\r\n.chat-messages {\r\n\twidth: calc(100vw - 205px);\r\n\theight: calc(100vh - 60vh - 45px);\r\n\tbackground-color: rgba(0, 0, 0, 0.1);\r\n}\r\n\r\n.ready:hover {\r\n\tbackground-color: #0db870;\r\n}\r\n\r\n.chat-div .chat-input {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\tbottom: 0;\r\n\tbackground-color: rgba(38, 37, 76, 1);\r\n\twidth: 100vw;\r\n\theight: 45px;\r\n\tborder: none;\r\n\toutline: none;\r\n\tcolor: white;\r\n}\r\n\r\n\r\n\r\n.connection-text {\r\n\tcolor: white;\r\n\tfont-size: 1.2rem;\r\n\ttext-align: center;\r\n\tmargin: 20px;\r\n\tmargin-bottom: 200px;\r\n\tline-height: 30px;\r\n}\r\n\r\n.fade-out {\r\n\topacity: 0;\r\n}\r\n.fade-in {\r\n\topacity: 1;\r\n}\r\n\r\n.loading  {\r\n\tdisplay: flex;\r\n\tjustify-content: center;\r\n\talign-items: center;\r\n\tflex-direction: column;\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\tmin-width: 100vw;\r\n\tmin-height: 100vh;\r\n\ttransition: opacity 0.3s linear;\r\n}\r\n\r\n.loading .loader {\r\n\tmargin-top: 100px;\r\n}\r\n\r\n.loader{\r\n\tposition: absolute;\r\n\twidth: 100px;\r\n\theight: 100px;\r\n\tborder-radius:50%;\r\n\tborder: 15px solid #15131c;\r\n\tborder-bottom: 15px solid white;\r\n\tborder-right: 15px solid white;\r\n\ttransform: rotate(0deg);\r\n\tanimation:animate 1.2s linear infinite;\r\n}\r\n\r\n\r\n\r\n\r\n@keyframes animate{\r\n\t0%{\r\n\t\ttransform:rotate(0deg);\r\n\t}\r\n\t50%{\r\n\t\ttransform: rotate(180deg);\r\n\t}\r\n\t100%{\r\n\t\ttransform: rotate(360deg);\r\n\t}\r\n}\r\n\r\n.hidden {\r\n\tdisplay: none !important;\r\n}",""]);const a=o},645:n=>{"use strict";n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t=n(e);return e[2]?"@media ".concat(e[2]," {").concat(t,"}"):t})).join("")},e.i=function(n,t,r){"string"==typeof n&&(n=[[null,n,""]]);var o={};if(r)for(var a=0;a<this.length;a++){var i=this[a][0];null!=i&&(o[i]=!0)}for(var s=0;s<n.length;s++){var c=[].concat(n[s]);r&&o[c[0]]||(t&&(c[2]?c[2]="".concat(t," and ").concat(c[2]):c[2]=t),e.push(c))}},e}},310:(n,e,t)=>{"use strict";t.r(e),t.d(e,{default:()=>i});var r=t(379),o=t.n(r),a=t(910);o()(a.Z,{insert:"head",singleton:!1});const i=a.Z.locals||{}},379:(n,e,t)=>{"use strict";var r,o=function(){var n={};return function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(n){t=null}n[e]=t}return n[e]}}(),a=[];function i(n){for(var e=-1,t=0;t<a.length;t++)if(a[t].identifier===n){e=t;break}return e}function s(n,e){for(var t={},r=[],o=0;o<n.length;o++){var s=n[o],c=e.base?s[0]+e.base:s[0],d=t[c]||0,l="".concat(c," ").concat(d);t[c]=d+1;var u=i(l),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==u?(a[u].references++,a[u].updater(p)):a.push({identifier:l,updater:v(p,e),references:1}),r.push(l)}return r}function c(n){var e=document.createElement("style"),r=n.attributes||{};if(void 0===r.nonce){var a=t.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(n){e.setAttribute(n,r[n])})),"function"==typeof n.insert)n.insert(e);else{var i=o(n.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(e)}return e}var d,l=(d=[],function(n,e){return d[n]=e,d.filter(Boolean).join("\n")});function u(n,e,t,r){var o=t?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(n.styleSheet)n.styleSheet.cssText=l(e,o);else{var a=document.createTextNode(o),i=n.childNodes;i[e]&&n.removeChild(i[e]),i.length?n.insertBefore(a,i[e]):n.appendChild(a)}}function p(n,e,t){var r=t.css,o=t.media,a=t.sourceMap;if(o?n.setAttribute("media",o):n.removeAttribute("media"),a&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleSheet)n.styleSheet.cssText=r;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(r))}}var m=null,h=0;function v(n,e){var t,r,o;if(e.singleton){var a=h++;t=m||(m=c(e)),r=u.bind(null,t,a,!1),o=u.bind(null,t,a,!0)}else t=c(e),r=p.bind(null,t,e),o=function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(t)};return r(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap)return;r(n=e)}else o()}}n.exports=function(n,e){(e=e||{}).singleton||"boolean"==typeof e.singleton||(e.singleton=(void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r));var t=s(n=n||[],e);return function(n){if(n=n||[],"[object Array]"===Object.prototype.toString.call(n)){for(var r=0;r<t.length;r++){var o=i(t[r]);a[o].references--}for(var c=s(n,e),d=0;d<t.length;d++){var l=i(t[d]);0===a[l].references&&(a[l].updater(),a.splice(l,1))}t=c}}}},703:n=>{n.exports={typingSpeed:40}},782:n=>{"use strict";n.exports={menu:document.querySelector(".menu"),lobby:document.querySelector(".lobby"),loading:document.querySelector(".loading"),connectionText:document.querySelector(".connection-text"),createButton:document.querySelector(".create"),createRoomButton:document.querySelector(".create-room"),createMenu:document.querySelector(".create-menu"),menuMain:document.querySelector(".menu .main"),privateCheckBox:document.querySelector("#private-checkbox"),passwordSection:document.querySelector(".server-password"),roomDiv:document.querySelector(".rooms"),usernameOverlay:document.getElementById("username-overlay"),privateOverlay:document.getElementById("password-overlay"),usernameInput:document.querySelector(".username-input"),passwordInput:document.querySelector(".password-input"),chat:document.querySelector(".chat"),privateEnterButton:document.querySelector("#password-enter-button"),usernameEnterButton:document.querySelector("#username-enter-button"),createBackButton:document.querySelector("#create-back-button"),serverNameInput:document.querySelector(".server-name-input"),serverDescInput:document.querySelector(".server-desc-input"),serverUsernameInput:document.querySelector(".server-username-input"),serverPasswordInput:document.querySelector(".server-password-input"),chatInput:document.querySelector(".chat-input"),playerCount:document.querySelector(".player-count"),chatMessages:document.querySelector(".chat-messages"),leaveButton:document.querySelector(".leave"),roomTitle:document.querySelector(".room-title")}},191:(n,e,t)=>{const{typingSpeed:r}=t(703);n.exports=async function(n,e,t=null,o=null){return new Promise(((a,i)=>{!function i(s=0){s<n.length?(e.innerHTML+=null!=t?`<${t} ${null==o?"":o}>${n.charAt(s)}</${t}>`:n.charAt(s),setTimeout((()=>i(s+1)),1e3/r)):a()}()}))}},794:n=>{"use strict";n.exports=function(n){function e(n,e){const t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}function t(n,e){return n>>>e|n<<32-e}function r(n,e){return n>>>e}function o(n,e,t){return n&e^~n&t}function a(n,e,t){return n&e^n&t^e&t}function i(n){return t(n,2)^t(n,13)^t(n,22)}function s(n){return t(n,6)^t(n,11)^t(n,25)}function c(n){return t(n,7)^t(n,18)^r(n,3)}return function(n){const e="0123456789abcdef";let t="";for(let r=0;r<4*n.length;r++)t+=e.charAt(n[r>>2]>>8*(3-r%4)+4&15)+e.charAt(n[r>>2]>>8*(3-r%4)&15);return t}(function(n,d){const l=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),u=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),p=new Array(64);var m,h,v,f,g,y,w,b;let x,L;n[d>>5]|=128<<24-d%32,n[15+(d+64>>9<<4)]=d;for(var k=0;k<n.length;k+=16){m=u[0],h=u[1],v=u[2],f=u[3],g=u[4],y=u[5],w=u[6],b=u[7];for(var S=0;S<64;S++)p[S]=S<16?n[S+k]:e(e(e(t(I=p[S-2],17)^t(I,19)^r(I,10),p[S-7]),c(p[S-15])),p[S-16]),x=e(e(e(e(b,s(g)),o(g,y,w)),l[S]),p[S]),L=e(i(m),a(m,h,v)),b=w,w=y,y=g,g=e(f,x),f=v,v=h,h=m,m=e(x,L);u[0]=e(m,u[0]),u[1]=e(h,u[1]),u[2]=e(v,u[2]),u[3]=e(f,u[3]),u[4]=e(g,u[4]),u[5]=e(y,u[5]),u[6]=e(w,u[6]),u[7]=e(b,u[7])}var I;return u}(function(n){const e=Array();for(let t=0;t<8*n.length;t+=8)e[t>>5]|=(255&n.charCodeAt(t/8))<<24-t%32;return e}(n=function(n){n=n.replace(/\r\n/g,"\n");let e="";for(let t=0;t<n.length;t++){const r=n.charCodeAt(t);r<128?e+=String.fromCharCode(r):r>127&&r<2048?(e+=String.fromCharCode(r>>6|192),e+=String.fromCharCode(63&r|128)):(e+=String.fromCharCode(r>>12|224),e+=String.fromCharCode(r>>6&63|128),e+=String.fromCharCode(63&r|128))}return e}(n)),8*n.length))}}},e={};function t(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={id:r,exports:{}};return n[r](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var r in e)t.o(e,r)&&!t.o(n,r)&&Object.defineProperty(n,r,{enumerable:!0,get:e[r]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},(()=>{"use strict";t(310);const n=t(782),e=t(794),r=t(191);let o=null,a=null,i=null,s=null,c=null;window.addEventListener("load",(()=>{!async function(){new Promise((async(t,d)=>{await r("Connecting to server...",n.connectionText),window.ws=new WebSocket(location.origin.replace(/^http/,"ws")),window.ws.addEventListener("open",(()=>{window.socketStatus="success"})),window.ws.addEventListener("close",(()=>{window.socketStatus="error",alert("The connection with the server has been lost. Sorry, try refreshing or checking your internet :)")})),window.ws.addEventListener("message",(t=>{!function(t){if(console.log(t),"my-room-update"===t.type){const e=t.data;n.playerCount.innerText=`${e.playerCount} / ${e.maxPlayers}`,s.playerCount=e.playerCount,s.maxPlayers=e.maxPlayers,s.players=e.players,s.room.name=e.room.name,n.roomTitle.innerText=s.room.name}if("chat-update"===t.type){const e=t.messages,r=n.chatMessages.scrollHeight-n.chatMessages.clientHeight<=n.chatMessages.scrollTop+1;for(const{author:t,content:r}of e)n.chatMessages.innerHTML+=`\n         <div class="chat-message">\n         \t<span class="author ${t===i?"my-message":""}">${s.players[t].name}</span>\n         \t<span class="message">${r}</span>\n         </div>\n         `;r&&(n.chatMessages.scrollTop=n.chatMessages.scrollHeight-n.chatMessages.clientHeight)}"rooms"===t.type&&setTimeout((()=>{console.log("got room data");const r=t.data;o=Object.create(null),n.roomDiv.innerHTML="";for(const e of r)o[e.id]=e,n.roomDiv.innerHTML+=`\n\t   \t\t\t<div class="room" id="${e.id}">\n\t\t\t\t\t\t<span class="room-name">${e.name}${e.private?'&nbsp;&nbsp;<span style="color: red;">[PRIVATE]</span>':""}</span>\n\t\t\t\t\t\t<span class="room-description">${e.desc}</span>\n\t\t\t\t\t\t<span class="room-player-count">${e.playerCount}/${e.maxPlayers}</span>\n\t\t\t\t\t</div>\n\t   \t\t`;for(const t of r)document.getElementById(`${t.id}`).addEventListener("mousedown",(r=>{r.preventDefault(),t.private?(n.privateOverlay.classList.remove("hidden"),n.passwordInput.focus(),n.passwordInput.addEventListener("keydown",(function r(o){a=t.id,"enter"===o.key.toLowerCase()&&/\S/.test(n.passwordInput.value)&&(send({type:"join",id:a,password:e(n.passwordInput.value)}),n.passwordInput.value="",n.passwordInput.removeEventListener("keydown",r))}))):(n.usernameOverlay.classList.remove("hidden"),n.usernameInput.focus(),n.usernameInput.addEventListener("keydown",(function e(r){a=t.id,"enter"===r.key.toLowerCase()&&/\S/.test(n.usernameInput.value)&&(send({type:"join",id:a,username:n.usernameInput.value}),n.usernameInput.value="",n.usernameInput.removeEventListener("keydown",e))})))}))}),750),"password-right"===t.type&&(n.privateOverlay.classList.add("hidden"),n.passwordInput.blur(),n.usernameOverlay.classList.remove("hidden"),n.usernameInput.focus(),n.usernameInput.addEventListener("keydown",(e=>{"enter"===e.key.toLowerCase()&&/\S/.test(n.usernameInput.value)&&(send({type:"join",id:a,username:n.usernameInput.value}),n.usernameInput.value="")}))),"success"===t.type&&(n.menu.classList.add("hidden"),n.chat.classList.remove("hidden"),c="chat",i=t.selfId,s=t.initPack,n.roomTitle.innerText=s.room.name,console.log(s),n.chatInput.focus())}(JSON.parse(t.data))})),window.send=n=>window.ws.send(JSON.stringify(n));let l=null;new Promise(((e,t)=>{let o=!1;setTimeout((async()=>{!async function a(){l=requestAnimationFrame(a),null!=window.socketStatus&&(cancelAnimationFrame(l),o||"success"!==window.socketStatus?o||"error"!==window.socketStatus||(o=!0,await r("Failed",n.connectionText,"span",'style="color: red;"'),t()):(o=!0,await r("Success!",n.connectionText,"span",'style="color: #17e300;"'),e()))}()}),200)})).then((()=>{new Promise((async(e,t)=>{n.connectionText.innerHTML+="<br>",await r("Loading Game Data....",n.connectionText),l=null;let a=0,i=0,s=!1;send({type:"rooms"}),setTimeout((async()=>{!async function c(d=0){if(l=requestAnimationFrame(c),a+=(d-i)/1e3,i=d,!s&&null!==o)return cancelAnimationFrame(l),s=!0,await r("Success!",n.connectionText,"span",'style="color: #17e300;"'),void e();!s&&null===o&&a>=5&&(cancelAnimationFrame(l),s=!0,await r("Failed",n.connectionText,"span",'style="color: red;"'),t())}()}),200)})).then((()=>{n.connectionText.innerHTML+="<br>",r("Fetching room data...",n.connectionText).then((()=>{r("Success!",n.connectionText,"span",'style="color: #17e300;"'),n.loading.classList.add("fade-out"),n.loading.addEventListener("transitionend",(function e(){n.loading.classList.add("hidden"),n.menu.classList.remove("hidden"),n.loading.removeEventListener("transitionend",e)}))}))}))}))}))}()})),window.addEventListener("keydown",(e=>{"chat"===c&&document.activeElement!==n.chatInput&&"enter"===e.code.toLowerCase()&&n.chatInput.focus()})),n.chatInput.addEventListener("keydown",(e=>{if("chat"!==c)return n.chatInput.blur();"enter"===e.key.toLowerCase()&&/\S/.test(n.chatInput.value)&&(send({type:"chat",content:n.chatInput.value}),n.chatInput.value="")})),n.leaveButton.addEventListener("mousedown",(()=>{console.log("clicked leave, state ->",c),"chat"===c&&(console.log("requesting to leave"),send({type:"leave-room"}),n.chatMessages.innerHTML='<div class="chat-message"><span class="my-message"><h1>Chat</h1></span></div>',n.chat.classList.add("fade-out"),n.chat.classList.remove("fade-in"),n.chat.addEventListener("transitionend",(function e(){n.chat.classList.remove("fade-out"),n.chat.classList.add("hidden"),n.menu.classList.add("fade-in"),n.menu.classList.remove("hidden"),n.menuMain.classList.remove("hidden"),n.usernameOverlay.classList.add("hidden"),n.roomDiv.innerHTML='<div class="center"><div class="loader"></div></div>',c=null,send({type:"rooms"}),n.chat.removeEventListener("transitionend",e)})))})),n.createButton.addEventListener("mousedown",(()=>{n.menu.classList.add("fade-out"),n.menu.classList.remove("fade-in"),n.menuMain.classList.add("fade-out"),n.menu.addEventListener("transitionend",(function e(){n.menu.classList.remove("fade-out"),n.menuMain.classList.add("hidden"),n.menu.classList.add("fade-in"),n.menuMain.classList.remove("fade-out"),n.menuMain.classList.add("fade-in"),n.createMenu.classList.remove("hidden"),n.menu.removeEventListener("transitionend",e)}))})),n.createRoomButton.addEventListener("mousedown",(()=>{send({type:"create-room",name:n.serverNameInput.value,desc:n.serverDescInput.value,private:n.privateCheckBox.checked,password:n.serverPasswordInput.value,username:n.serverUsernameInput.value})})),n.privateCheckBox.addEventListener("click",(()=>{n.privateCheckBox.checked?n.passwordSection.classList.contains("hidden")&&n.passwordSection.classList.remove("hidden"):n.passwordSection.classList.contains("hidden")||n.passwordSection.classList.add("hidden")})),n.usernameEnterButton.addEventListener("mousedown",(()=>{send({type:"join",id:a,username:n.usernameInput.value}),n.usernameInput.value=""})),n.privateEnterButton.addEventListener("mousedown",(()=>{send({type:"join",id:a,password:e(n.passwordInput.value)}),n.passwordInput.value=""})),n.usernameOverlay.addEventListener("mousedown",(()=>{n.usernameOverlay.classList.add("hidden"),n.usernameInput.value=""})),n.privateOverlay.addEventListener("mousedown",(()=>{n.privateOverlay.classList.add("hidden"),n.passwordInput.value=""})),n.createBackButton.addEventListener("mousedown",(()=>{n.privateCheckBox.checked=!1,n.serverNameInput.value="",n.serverDescInput.value="",n.serverUsernameInput.value="",n.serverPasswordInput.value="",n.menu.classList.add("fade-out"),n.menu.classList.remove("fade-in"),n.createMenu.classList.add("fade-out"),n.menu.addEventListener("transitionend",(function e(){n.menu.classList.remove("fade-out"),n.createMenu.classList.add("hidden"),n.menu.classList.add("fade-in"),n.createMenu.classList.remove("fade-out"),n.createMenu.classList.add("fade-in"),n.menuMain.classList.remove("hidden"),n.menu.removeEventListener("transitionend",e)}))}))})()})();